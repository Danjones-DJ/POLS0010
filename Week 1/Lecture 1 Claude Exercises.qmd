---
title: "Lecture 1 Claude Exercises"
author: "DMJ"
format: html
editor: visual
---

## Neighbourhood Detective Challenge

```{r}
library(tidyverse); library(skimr); library(forcats); library(GGally); library(ggplot2); library(car)

set.seed(42)
n <- 200

income <- rnorm(n, 50000, 15000)
education <- 0.7 * income + rnorm(n, 0, 10000)
green_space <- rnorm(n, 0.5, 0.2)
population_density <- rnorm(n, 5000, 2000)
crime_rate <- -0.3*income + rnorm(n, 50, 15)
diversity <- rnorm(n, 0.5, 0.2)

has_community_centre <- rbinom(n, 1, 0.4)

wellbeing <- 30 + 0.0003*income + 0.5*green_space + -0.2*crime_rate+3*has_community_centre+5*diversity+rnorm(n,0,5)

# Create the dataset
neighborhoods <- data.frame(
  wellbeing, income, education, green_space, 
  crime_rate, diversity, population_density, 
  has_community_centre
)

# Make the binary variable a factor
neighborhoods$has_community_center <- factor(
  neighborhoods$has_community_centre, 
  levels = c(0, 1), 
  labels = c("No", "Yes")
)

```

You can

Level 1: Correlation Matrix

```{r}
#| echo: true
neighbourhoods_subset <- subset(neighborhoods, select=c(income, education, green_space, population_density, crime_rate, diversity))

cor(neighbourhoods_subset, use="complete.obs")
pairs(neighbourhoods_subset)
```

Dangerous correlations:

Income and Education, Income and Crime Rate, thus also education and crime rate

Remove income to get rid of multicollinearity
